<!DOCTYPE html>
<html lang="en" ng-app="bankApp">
<head>
    <meta charset="UTF-8">
    <title>SBI Bank Signup Form</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
    <style>
        body {
            background-color: #e6f2ff;
        }
        .form-container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0px 0px 10px #ccc;
        }
        .sbi-header {
            color: #003366;
            font-weight: bold;
            font-size: 32px;
        }
    </style>
</head>
<body ng-controller="SignupController">

<div class="container mt-5">
    <div class="form-container">
<!-- Top Layout -->
    <div class="row align-items-center mb-4">
      <div class="col-md-2">
        <img src="D:\atm sts project\sbi_atm\images\sbi_logo.jpg" alt="Bank" width="90%">
      </div>
      <div class="col-md-8 text-center sbi-header">
        Page 1 :- <br> Persional Details 
      </div>
      <div class="col-md-2 text-end">
        <label><strong>Form NO :-</strong></label><br>
        <span>{{form.formNo || '____'}}</span>
      </div>
    </div>

        <form name="signupForm" ng-submit="submitForm()">
            <div class="row g-3">
                <div class="col-md-6">
                    <label>Name:</label>
                    <input type="text" class="form-control" ng-model="form.name" required>
                </div>
                <div class="col-md-6">
                    <label>Father's Name:</label>
                    <input type="text" class="form-control" ng-model="form.fatherName" required>
                </div>
                <div class="col-md-6">
                    <label>Date of Birth:</label>
                    <input type="date" class="form-control" ng-model="form.dob" required>
                </div>
                <div class="col-md-6">
                    <label>Gender:</label>
                    <select class="form-select" ng-model="form.gender" required>
                        <option value="">Select</option>
                        <option>Male</option>
                        <option>Female</option>
                    </select>
                </div>
                <div class="col-md-6">
                    <label>Email:</label>
                    <input type="email" class="form-control" ng-model="form.email" required>
                </div>
                <div class="col-md-6">
                    <label>Marital Status:</label>
                    <select class="form-select" ng-model="form.maritalStatus" required>
                        <option value="">Select</option>
                        <option>Married</option>
                        <option>Unmarried</option>
                        <option>Other</option>
                    </select>
                </div>
                <div class="col-md-12">
                    <label>Current Address:</label>
                    <input type="text" class="form-control" ng-model="form.address" required>
                </div>
                <div class="col-md-4">
                    <label>City:</label>
                    <input type="text" class="form-control" ng-model="form.city" required>
                </div>
                <div class="col-md-4">
                    <label>Pin Code:</label>
                    <input type="text" class="form-control" ng-model="form.pincode" required>
                </div>
                <div class="col-md-4">
                    <label>State:</label>
                    <input type="text" class="form-control" ng-model="form.state" required>
                </div>
            </div>
            <div class="text-end mt-4">
                <button type="submit" class="btn btn-dark px-4">Next</button>
            </div>
        </form>
    </div>
</div>



<script>
  var app = angular.module("bankApp", []);

  app.controller("SignupController", function ($scope, $http) {
    $scope.form = {};

    
    $scope.form.formNo = Math.floor(1000 + Math.random() * 9000).toString();
    localStorage.setItem("savedFormNo", $scope.form.formNo); 

    

    $scope.submitForm = function () {
      $http.post("http://localhost:8087/signup/create", $scope.form)
        .then(function (response) {
          alert("Signup successful!");
          window.location.href = "signup2.html"; 
        }, function (error) {
          alert("Error while submitting form.");
          console.error(error);
        });
    };
  });
</script>


</body>
</html>
